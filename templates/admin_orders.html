<!-- templates/admin_orders.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Daftar Order</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        .content {
            margin-left: 240px;
            padding: 30px;
        }
    </style>
</head>

<body class="bg-light">

    <!-- SIDEBAR -->
    <div class="sidebar position-fixed h-100 bg-dark text-white p-3" style="width:240px;">
        <h4 class="text-center mb-4">Admin Panel</h4>

        <a href="/admin" class="d-block text-white text-decoration-none py-2">Dashboard</a>
        <a href="/admin/products" class="d-block text-white text-decoration-none py-2">Kelola Produk</a>
        <a href="/admin/orders" class="d-block text-white text-decoration-none py-2">Lihat Order</a>
        <a href="/admin/reports" class="d-block text-white text-decoration-none py-2">Laporan Penjualan</a>
        <a href="/logout" class="d-block text-danger text-decoration-none py-2">Logout</a>
    </div>

    <div class="content">
        
        <h2 class="fw-bold mb-4">Daftar Order</h2>

        {% if orders|length == 0 %}
        <div class="alert alert-warning">
            Belum ada pesanan!
        </div>
        {% else %}
        
        <table class="table table-bordered table-hover bg-white">
    <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Nama Pembeli</th>
            <th>Total Harga</th>
            <th>Metode Bayar</th>
            <th>Pengiriman</th>
            <th>Tanggal</th>
            <th>Status</th>
            <th>Aksi</th>
        </tr>
    </thead>

    <tbody>
        {% for row in orders %}
        <tr>
            <td>{{ row.id }}</td>
            <td>{{ row.customer_name }}</td>
            <td>Rp {{ "{:,.0f}".format(row.total) }}</td>
            <td>{{ row.payment_method }}</td>
            <td>{{ row.delivery_method }}</td>
            <td>{{ row.created_at }}</td>
            <td>{{ row.status }}</td>
            <td>
                <a href="/admin/orders/print/{{ row.id }}" class="btn btn-sm btn-primary">
                    Cetak Resi
                </a>
                <a href="/admin/orders/delete/{{ row.id }}" class="btn btn-sm btn-danger"
                   onclick="return confirm('Hapus order ini?');">
                   Hapus
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>


        {% endif %}

    </div>
</body>
</html>
